**CSC3060 项目1：数据实验室**

mingyibao@link.cuhk.edu.cn

最后更新：2026-01-15 22:19

1 概述

在这个项目中，您将使用仅限位运算实现五个基本算术运算：加法、减法、乘法、除法、取模。

预计时间：15小时。难度：简单到中等。

2 项目结构

datalab/

├── include/ （头文件文件夹）

│ └── data_lab.hpp （函数声明 - 已提供）

├── src/ （源文件文件夹）

│ └── data_lab.cpp （您的实现）

└── test/ （单元测试文件夹）

│ └── test_data_lab.cpp （单元测试 - 已提供）

├── .clang-format （ClangFormat配置文件）

├── .clang-tidy （Clang-Tidy配置文件）

├── .gitignore （gitignore配置文件）

├── CMakeLists.txt （构建和测试配置 - 已提供）

└── README.md （项目描述）

2.1 我们提供的内容

https://github.com/bmyjacks/CSC3060_data_lab

• CMakeLists.txt：构建系统（按原样提供）。建议您阅读/修改它。

• data_lab.hpp：函数签名。请勿修改，因为我们需要链接到您的库。

• test_data_lab.cpp：单元测试。建议您阅读它。

2.2 您需要编写的内容

您只需修改以下文件

• data_lab.cpp：5个函数的实现。

• report.pdf：您的方法的文档。

3 函数要求

我们专注于32位有符号整数。

3.1 签名

int32_t add (int32_t a, int32_t b) // 返回 a + b

int32_t subtract(int32_t a, int32_t b) // 返回 a - b

int32_t multiply(int32_t a, int32_t b) // 返回 a * b

int32_t divide (int32_t a, int32_t b) // 返回 a / b

int32_t modulo (int32_t a, int32_t b) // 返回 a % b

3.2 预期行为

与正常的C++行为一致，这意味着您的结果应与直接在C++中使用这些算术运算符相同。

示例：

• 正确处理负数。

• 溢出行为与C++有符号整数溢出匹配。

• 对于除法，向零截断。(-10÷3=-3, 10÷3=3)。

• 对于取模，符号跟随被除数。(-10%3=-1, 10%-3=1)。

• 不需要处理除法/取模除零的错误。

4 限制与规则

您可以使用以下运算

• 位运算符：&, |, ^, ~, <<, >>, <<=, >>=, &=, |=, ^=, ~=, ^^=, ^^=

• 控制流（仅在multiply(), divide(), modulo()中使用）：if, while, for

• 逻辑运算符：&&, ||, !

• 调用您自己的函数

• 类型转换：static_cast<uint32_t>()

• 常量和算术常量（例如，32, 32 - 1）

• 局部变量

• 编写您自己的辅助函数，遵循此处相同规则

• 使用允许运算实现比较运算符

您不能使用以下运算

• 变量上的算术运算符：+, -, *, /, %, ++, --, +=, -=, *=, /=, %=

• 比较运算符：<, >, <=, >=, ==, !=

• 三元/条件运算符：?:

• add(), subtract() 中的控制流

• 数组、指针或宏

• 递归

• 像在multiply(a, b)中使用add(sum, a) b次的技巧

• 内联汇编

关于算术运算符的更多信息：您可以在常量和控制流变量中使用它们。但不能在其他情况下使用。请参见以下示例：

constexpr int32_t LEN = 10; // 允许

std::cout << LEN << LEN + 1; // 允许

for (int32_t i = 0; i < LEN; i++) { // 允许

a = 2 << i; // 允许

a = 2 + i; // 不允许

a = add(2, i) // 允许

}

x = 1, y = 2;

add(x + 1, y); // 不允许

add(add(x, 1), y); // 允许

a = x >> 16; // 允许

a = x >> 16 - 1; // 允许

a = x >> LEN - 1; // 允许

b = -a; // 不允许

b = subtract(0, a); // 允许

所有其他运算/技术都不允许。如果有疑问，请通过电子邮件或Piazza询问！

4.1 代码质量

您的函数必须易于阅读。考虑使用ClangFormat等格式化工具。

4.2 报告中要写的内容

• 为什么位运算适用于算术。

• 您是如何想出这种解决方案的。

• 您遇到的困难，以及如何解决。

• 您的实现的时复杂度。

• 关于单元测试的想法。

• 其他您想讨论的事情。

5 评分标准

函数 分数

add 12

subtract 12

multiply 12

divide 12

modulo 12

神秘现实世界任务 30

报告 10

总计 100

• 对于每个函数，我们提供12个单元测试。每个计1分。

• 对于神秘现实世界任务，您不需要做任何事情。我们将针对一些著名的计算密集型算法（如哈希、加密等）测试您的函数。有30个单元测试，每个计1分。

• 神秘现实世界任务将在截止日期后24小时发布。

• 如果您的实现通过了提供的5×12=60个单元测试，您应该期望至少获得60分。

• 我们只要求结果的正确性。

• 如果您在函数中使用了一些“不允许”的运算，该函数和神秘现实世界任务的相应分数将为0。例如，如果您在add()中使用+，add()和神秘现实世界任务的分数将为0。其他函数的分数仍基于通过的测试数量。

5.1 迟交政策

• 在截止日期后的第一天（2026-01-31 00:00至2026-01-31 23:59），您的实际分数将扣除10%作为最终项目1分数。

• 从2026-02-01 00:00至2026-02-01 23:59，您将获得0分用于神秘现实世界任务。

• 在2026-02-02 00:00之后，您的分数将为0。

请尽早开始这个项目。虽然它看起来简单，但您可能会遇到需要时间调试的困难。如果遇到任何意外问题，请通过电子邮件联系教学团队请求延期，并提供有效理由和证明。

6 学术诚信

• 理解您的代码。您必须能够解释您编写的每一行代码。

• 适当归属。如果您使用外部资源，如教科书、网站、朋友或LLM中的算法，请在代码中用注释引用，并在报告中明确提及。如果您使用LLM，请在报告中包含对话。

7 面试政策

• 如果您声称没有使用任何LLM工具，我们肯定会采访您。

• 如果您的报告与代码不匹配，我们将采访您。

• 我们可能会就其他可疑事情采访您。

8 提交

8.1 确保代码编译

cmake -B build

cmake --build build

如果您的代码需要特殊命令来编译，请在报告中说明。

8.2 确保所有提供的测试通过

ctest --test-dir build -V

如果您获得 [ PASSED ] 60 tests.，您将获得60分。

8.3 检查文件是否包含

确保您的文件夹有这些必要文件。

YOUR_FOLDER/

├── include/

│ └── data_lab.hpp

├── src/

│ └── data_lab.cpp

├── test/

│ └── test_data_lab.cpp

├── CMakeLists.txt

└── report.pdf

8.4 通过BlackBoard提交

将所有文件作为单个存档上传（.zip, .tar）。示例：123090003_P1.zip

截止日期：2026-01-30 23:59 中国标准时间。

9 联系与支持

• 负责TA/USTF：Mingyi BAO

• 电子邮件：mingyibao@link.cuhk.edu.cn

• 教程：周二18:00至18:50和19:00至19:50@TD208

• 教程：周四18:00至18:50和19:00至19:50@TA307

• 办公时间：周五10:30-11:00@Old library 103，以及其他TA/USTF的OH

• Piazza：https://piazza.com/class/mjygu9ee5nc2vj/#folder=project1